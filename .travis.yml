language: ruby
rvm:
- 2.2.1
env:
  global:
  - secure: dBjX9ROgGANon7L+2oId2XALBhnCa6IbCixQ9MLbaQKorhX36e806sdaC/fXs69ERpNBoE+yP59gKtqtxb4qSY7eoApxPU58JX80Nkl2Ln0/GqukU/Yd2sw3Le2dmkUwndnkBdyF03wIh7o+NOLPFK//X4gdJ46hDKakS3ly9TxZc98oK04pXNV/svd018N4PBxawA8SZ9979j+CDUZCubHvptSGxs1FYviOo2ZHHGsVHcmFFEPotopGSCeAwV8ZiAaw3wYx7b5tnCD8WzqfRUXZynGw9bPSRcngCHlwz0sM2/2/VtAXMqDiDLbtNENyz7TEYW99X/UCafDxMSKAQxPjyYJsaiNHJetEcaNX3NaYEGqgvG0r/WLWQrT1ydEpb+4NEDkB58rxs9qGhRiVs3/93v+rNjkhSvhAvXLTVf6OcHr3F3e6rKtpSNmP09xi0N1sbIYnTB1pEIu1e4tVYefGIJsp+g7aKd/iOyiv9hgn9Pwi6ZmIdfY9UX178FvVStXfJqu6fu3jJwVyv6RjyYU80hLXjcyBRQFNaEGOUA7MEJ8vY+Qfrm/I6g4VTFQvyHSsi2Z8sT8IhkOnjcS4RvQvVyqc+1nj8FKiCbG2QvH0X4B8Tv5cuXI+euBiLxNyjV5Pljc4IhG060MCTDCjTjorgEfN1FXKaCcZr0eoox0=
  - secure: ZB6Adbn+ALytdkoJc/AEYl7BtUm2jb3l3xi0RAHd2ZwQSPnlmoUGBNoYciXFM5Ht0SwJd1kx79hmQyVWlx5MCPLcS93/ByoJCV+In6kxUTp4xp5ehVUAJwVXD4L4DFK3D/M8SAcAB522r4KerBIFNgfr+UJXxJ7WBecFYl/9E6JVvnPP8h2pEOCEGL6gcnwljZSW5obLx5JbfSukbLK+35DCgTOGmhghtsuVLVDo/imAh8szfiGABcZlx295oKGtM1bkVKpCvqcDggQQpfmJjbL0M/5dS33IOXTTvndxeAAACFRC7v+wvUmwxh5zatZehFzhsRTd43t1Mg/uiO3lcyiLx8elcEX9HNfNsE2ac6mfFZ/xrQIZiilp5Dc59inV+WPHO0vY91UKKRwxQAeJ8m1ZzWAYfjdUYoIchKdRawecUc/KF6Iol81rIsf27WXIV2Oqiz9dZ+fdzjKpWLIp4PKXxiLbjzObnsuYIUv09SWYD7v2KuZnvNNf3VDdnD+F6Jq9yn/PN/wYgDCeiVn2WzmC+cGF9bazloHHXFy8GjcgioYvVTnlAE3nf32LZiM69P7J3SfgQE9hCdH82FTBCGs95VzNWWMbGXXn2jog4lSG0nfKrVNl8z1pW6aLCbPS6Mzq9LUODIqbygBG1U0mpk7IeXuRORuEXrfzY3IC+HU=
  - secure: ih+I8Jol93FtyzfnIMlnPuvzjwZqIlkOzKej//cyG7GG4Ft4wu5NBOmsQ6sAWOHN2ZJQ865zF3IGsERkXZpZnrktMXv9mc1A4+Rs39KUxF/Wh1O+Ko6Bp4EC/i3El/0JER+3RB0v3SPnL2stdel8DnHKeFXBFUlcEJ4g0nFSw+kCLTf/LLyDFphDwR10+aRRTOjeUvClxzJfFJiERwZYCpb1Tm93MBEqRtCgSYHlRkhecYp3qIO1ljqQRuyRvEXH0DR15kM21xPVBtKUPQnWDf1WnhlR4RqNbeu/waSZz/jbWe51pB8k4WMdpI0uvhkeXPXf0D/YMESrWeSlUKtD0j+wah7Vb+MdcUk6qZCW4Uex9NM6qMzW8DjQFPeUY7kYLpZBDBrE8/PoPhGo3rQ+hEj25R4EPfk6MHJgk4Oiyf8f0jhnR41NvmOtwImr8EfJoqSfhDifST6WzStRQ+1eNMKEfrzWl68tFVQ/0PAaDdbevrp5tpPCldDAgfuiBlwYEg3MflDekHsZ9z+K5zttZ4i39SGfXbx2Ilc6GM6hNthK3qKPv5rJWzgC786QrATai6SWZElFKBRqFD3D6SDm/W8RO8Ji1fBjobMeq3wrhWKtiBKOzeAjSRHNWGhm0I/QWlXX6Pt9rNeTJv/8iHXizqRVqf8xWQa+tUyIjJWaBFU=
  - secure: tEPBQ6CvcoQhLFomQ7ZwQI3R34M2yWknMcrUxpj7DDA8y/uCw9Xh7IZ3hKNrdtZcKyNqkjKZk14TJs/fsjTwZHIjncsgKmMnXTPlcq2KoVoM19LYv3sAkTOGzE/tCIW4V3dFGKz9y9OK80U4CMOWuARJB8XSJ4z/toPjPpUq7UF9P+d6E48oj8F89038g5lkBNf3gG0Buz0bWJc4jz0iFX8WFa8ESf43dNgEJ5g9H437ABtrss8WpacdBVT3YesClLOwnwA8k20nJwYLbZH6wRP8W/vMwcPDfKetSCq2nhfVhfFQKrRTW6nk0ZQyNwCDAgq+MqZYFvEHasth+iQEpFGpzAUJOp6R1dg9qNqfG5pqPIBIutHFwbHGT3sesDLsUgK+5Rwu/e3/Iw9K5mZzrCICinRYny//Z0YF0HkPHjNT/oXctLKbVgm2WmqmDB20zomy9rx4/jMRvZp5o91tSm7zgsJsRqapjJMOfZibahg49Q0eoDaEW30zrdusr3/rqmlkTIUBwWgeh23DuXgPHQnwUWbeiEYvgnf87EM+9VyDyyv9Z0rCGrmla42n75feV758WoCocdPae3b7kUzro1k6ING7iKlSlUIsBgbmA7pA/0929Kdr9cepHJDfX7ZjBrM1VZahN2+Z5/QNRnQg3sAZ+C9p3olvTitCAlCTIIM=
before_install:
- openssl aes-256-cbc -K $encrypted_135fea45a13e_key -iv $encrypted_135fea45a13e_iv
  -in provision.key.enc -out provision.key -d
- bundle install

script:
  - ./travis_wrapper.rb bundle exec rake test:cloud

after_script:
  - bundle exec rake test:cloud:destroy
